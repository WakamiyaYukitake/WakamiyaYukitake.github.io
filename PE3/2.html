<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第2回講義資料 - PE3</title>
    <!-- 
      style.cssがPE3フォルダと同じ階層にあると想定し、相対パスを ../style.css に設定しています。
      もしPE3フォルダ内にstyle.cssがある場合は、 'style.css' に変更してください。
    -->
    <link rel="stylesheet" href="../style.css">
    <style>
        /* カード内の見出しサイズを少し調整 */
        .step-card-title {
            font-size: 1.25em; /* 少し大きく */
            color: var(--blue);
            margin-bottom: 10px;
            display: block; /* マージンを効かせるため */
        }

        /* リンクボタン用のコンテナ */
        .button-container {
            display: flex;
            flex-wrap: wrap; /* モバイルで折り返し */
            gap: 16px;
            margin-top: 24px;
            margin-bottom: 16px;
            justify-content: center; /* ボタンを中央揃え */
        }

        /* --- ここからデザイン強調用の追加CSS --- */

        /* セクションタイトルを目立たせる */
        h2 {
            border-bottom: 3px solid;
            border-image: linear-gradient(90deg, var(--blue), var(--purple)) 1;
            padding-bottom: 10px;
            margin-bottom: 32px; /* 余白を増やす */
            font-size: 2em; /* 大きく */
            letter-spacing: 1px;
        }

        /* セクション1 (目標) のリストスタイル */
        #overview ul {
            list-style: none;
            padding-left: 0;
        }
        #overview li {
            background: linear-gradient(135deg, rgba(11,95,255,0.05), rgba(106,76,204,0.05));
            border: 1px solid rgba(255,255,255,0.05);
            border-left: 5px solid var(--blue);
            padding: 20px;
            margin-bottom: 16px;
            border-radius: 10px;
            font-size: 1.1em;
            box-shadow: 0 8px 24px rgba(2,6,23,0.7);
            transition: transform 200ms, box-shadow 200ms;
        }
        #overview li:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 12px 30px rgba(2,6,23,0.9);
        }

        /* セクション2 (流れ) のカードを派手に */
        .projects-grid .card {
            transition: transform 300ms, box-shadow 300ms, border-color 300ms;
            border: 1px solid rgba(255,255,255,0.03);
            background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
        }
        .projects-grid .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 36px rgba(11,95,255,0.1);
            border-color: rgba(11,95,255,0.3);
        }
        .card .small-muted {
            font-size: 0.95em; /* 少し大きく */
            line-height: 1.7; /* 行間を調整 */
            color: var(--muted);
        }

        /* セクション3 (方向性) のボタンを派手に */
        .button-container .btn {
            padding: 12px 24px; /* 大きく */
            font-size: 1.1em;
            box-shadow: 0 10px 30px rgba(11,95,255,0.15);
            transition: transform 200ms, box-shadow 200ms, background 300ms;
        }
        .button-container .btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 15px 35px rgba(11,95,255,0.25);
            background: linear-gradient(90deg, var(--purple), var(--blue));
        }

    </style>
</head>
<body>

    <!-- サイトヘッダー (style.cssの定義に基づく) -->
    <header class="site-header">
        <div class="container">
            <div class="header-inner">
                
                <!-- ロゴにindex.htmlへのリンクを追加 -->
                <a href="index.html" class="logo" style="text-decoration: none;">PE3</a>
                
                <!-- ナビゲーション -->
                <nav class="site-nav">
                  
                    <!-- ページ内リンク (下のセクションIDに対応) -->
                    <a href="#overview">目標</a>
                    <a href="#lecture">流れ</a>
                    <a href="#exercise">詳細</a>

                    <!-- index.html (同じPE3フォルダ内にあると想定) へ戻るリンク -->
                    <a href="index.html">ホームへもどる</a>

                </nav>

                <!-- モバイル用メニューボタン (style.cssの定義に基づく) -->
                <button class="menu-btn" aria-label="メニューを開閉">☰</button>
            </div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main>

        <!-- ヒーローセクション (ページタイトル) -->
        <section class="section section--full" style="padding-top: 80px; padding-bottom: 60px;">
            <div class="container hero-inner">
                <h1 class="hero-title">第2回</h1>
                <p class="hero-lead">
                    「粒子法：SPH法」と「PLATEAU」について
                </p>
            </div>
        </section>

        <!-- 1. 概要セクション -->
        <section id="overview" class="section">
            <div class="container">
                <h2>1. 今日の目標</h2>
                <!-- pタグをul/liに変更し、スタイルを適用 -->
                <ul>
                    <li>全体の流れを理解することである。</li>
                    <li>PLATEAU及びSPH法について概要を理解することである。</li>
                    <li>PLATEAUについて自身で調べてみることである。</li>
                    <li>（時間があれば）DualSPHysicsを触ってみることである。</li>
                </ul>
            </div>
        </section>

        <!-- 2. 解説セクション (更新) -->
        <section id="lecture" class="section">
            <div class="container">
                <h2>2. PLATEAUを用いた粒子法による河川氾濫解析の流れ</h2>
                <p>
                    私の卒業研究では、熊本県熊本市井川淵町周辺を対象に、国土交通省が提供する3D都市モデル「PLATEAU」のデータと、粒子法シミュレーションソフト「DualSPHysics」を用いて、河川が氾濫した場合のシミュレーションを行った。
                </p>
                
                <h3 style="margin-top: 32px; margin-bottom: 24px; font-size: 1.5em; text-align: center;">解析のプロセス</h3>
                <p style="text-align: center; max-width: 700px; margin: 0 auto 24px auto; color: var(--muted);">
                    解析は、大きく分けて「3Dモデルの準備」「解析の実行」「結果の可視化」のステップで進めた。
                </p>

                <!-- style.css の .projects-grid と .card を使用したレイアウト例 -->
                <div class="projects-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                    
                    <div class="card">
                        <h3 class="step-card-title">1. 3Dモデル準備</h3>
                        <p class="small-muted">
                            PLATEAUから対象地域（熊本市井川淵町周辺）の地形（5m解像度DEM）と建物データ（LOD1）をCityGML形式で取得した。
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="step-card-title">2. データ変換</h3>
                        <p class="small-muted">
                            CityGMLは直接使えないため、「PLATEAU SDK for Unity」でOBJ形式に変換後、「Blender」でSTL形式に再変換した。
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="step-card-title">3. 解析条件の設定</h3>
                        <p class="small-muted">
                            「DualSPHysics」にて、破堤幅50m、流入速度1m/s、粒子間隔0.5m、解析時間600秒といった条件をXMLファイルで定義した。
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="step-card-title">4. シミュレーション実行</h3>
                        <p class="small-muted">
                            設定したXMLを読み込み、GPU（NVIDIA GeForce RTX 3060）を用いて高速に流体計算を実行し、結果をVTKファイルとして出力した。
                        </p>
                    </div>

                    <div class="card">
                        <h3 class="step-card-title">5. 可視化と分析</h3>
                        <p class="small-muted">
                            オープンソースの「ParaView」を用いてVTKファイルを読み込み、浸水深、流速、建物が受ける力などを3Dで可視化・分析した。
                        </p>
                    </div>
                </div>
                
                <!-- style.cssの .video-wrapper を使用したビデオ埋め込み例 -->
                <div class="video-wrapper" style="margin-top: 32px;"> <!-- ビデオの上マージン調整 -->
                    <iframe 
                        src="https://www.youtube.com/embed/krXXW6wtNzA" 
                        title="YouTube video player" 
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                    </iframe>
                </div>
                
                <p style="margin-top: 16px; text-align: center; color: var(--muted);">
                    [これは、上記の手法で解析した結果の可視化事例である。]
                </p>
            </div>
        </section>

        <!-- 3. 詳細・方向性セクション (旧 演習セクション) -->
        <section id="exercise" class="section">
            <div class="container">
                <h2>3. 詳細</h2>
                <p>
                    この解析で使用した「SPH法」という流体解析の理論と、3D都市モデルのデータソースである「PLATEAU」について、以下のリンクで詳細を確認すること。
                </p>

                <!-- SPHとPLATEAUへのリンクボタンをここに追加 -->
                <div class="button-container">
                    <a href="https://wakamiyayukitake.github.io/SPH/SPH.html" class="btn" target="_blank" rel="noopener noreferrer">
                        SPH法について
                    </a>
                    <a href="https://wakamiyayukitake.github.io/PLA/PLATEAU.html" class="btn" target="_blank" rel="noopener noreferrer">
                        PLATEAUについて
                    </a>
                </div>
                
            </div>
        </section>

    </main>

    <!-- サイトフッター -->
    <footer class="site-footer">
        <div class="container">
            <p class="small-muted">&copy; 2025 Wakamiya Yukitake.</p>
        </div>
    </footer>

    <!-- モバイルメニュー用のスクリプト (style.cssの機能に必要) -->
    <script>
        // フェードインアニメーション (style.cssの .section のため)
        document.addEventListener('DOMContentLoaded', () => {
            const sections = document.querySelectorAll('.section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                    }
                });
            }, { threshold: 0.1 }); // 10%見えたら実行

            sections.forEach(section => {
                observer.observe(section);
            });
            
            // ヒーローセクションは最初から表示
            const hero = document.querySelector('.section--full');
            if(hero) hero.classList.add('in-view');

            // モバイルメニューのトグル (style.cssの .menu-btn のため)
            const menuBtn = document.querySelector('.menu-btn');
            const nav = document.querySelector('.site-nav');
            if (menuBtn && nav) {
                menuBtn.addEventListener('click', () => {
                    nav.classList.toggle('open');
                });
            }
        });
    </script>

</body>
</html>